import{j as e,m}from"./vendor-motion-BTi7gxEc.js";import{r as b}from"./vendor-react-CUuYCEpB.js";import{d as y,al as V,am as j,au as F,ay as T,g as _,Z as f,j as M,G as O,a as A,az as E}from"./index-BQ8GchdQ.js";import{R as D}from"./refresh-cw-BmwvIC3m.js";import{T as q}from"./trophy-C3NEYXtY.js";import{A as $}from"./activity-xnXCEB-V.js";import{A as C}from"./arrow-right-DExnXAvI.js";import"./vendor-zustand-DbidXgKt.js";import"./vendor-dexie-TCJlnc2g.js";import"./vendor-pdf-tjGXvEUX.js";import"./vendor-supabase-DxKkahmj.js";const w=["lead","contacted","site-assessment","quoted","negotiation","won","lost"],P={lead:"Lead",contacted:"Contacted","site-assessment":"Site Assessment",quoted:"Quoted",negotiation:"Negotiation",won:"Won",lost:"Lost"},S={note:{label:"Notes",color:"bg-surface-500"},call:{label:"Calls",color:"bg-blue-500"},email:{label:"Emails",color:"bg-purple-500"},meeting:{label:"Meetings",color:"bg-teal-500"},"site-visit":{label:"Site Visits",color:"bg-amber-500"},"quote-created":{label:"Quotes Created",color:"bg-brand-500"},"quote-sent":{label:"Quotes Sent",color:"bg-green-500"},"stage-change":{label:"Stage Changes",color:"bg-orange-500"}},W=new Set(["sales_rep","key_account"]),B={negotiation:.6,quoted:.4},I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(s){return new Date(s.getFullYear(),s.getMonth(),1)}function R(s){return`${s.getFullYear()}-${String(s.getMonth()).padStart(2,"0")}`}function k(s){const n={},t={};for(const l of w)n[l]=0,t[l]=0;for(const l of s){const c=l.pipelineStage;n[c]=(n[c]??0)+1,t[c]=(t[c]??0)+(l.estimatedValue??0)}const a=Math.max(1,...w.map(l=>n[l]??0));return w.map(l=>{const c=n[l]??0;return{stage:l,label:P[l],count:c,value:t[l]??0,pct:c/a*100}})}function Y(s){const n=s.length,t=s.filter(d=>d.pipelineStage==="won"),a=t.length,l=n>0?a/n*100:0;let c=0,u=0;for(const d of t){const o=Date.parse(d.createdAt),h=Date.parse(d.updatedAt);!isNaN(o)&&!isNaN(h)&&h>o&&(c+=(h-o)/(1e3*60*60*24),u++)}const i=u>0?Math.round(c/u):0,r=new Date,x=[];for(let d=5;d>=0;d--){const o=new Date(r.getFullYear(),r.getMonth()-d,1);x.push({month:I[o.getMonth()],year:o.getFullYear(),wins:0})}const p={};for(let d=5;d>=0;d--){const o=new Date(r.getFullYear(),r.getMonth()-d,1);p[R(o)]=5-d}for(const d of t){const o=new Date(d.updatedAt),h=R(o),N=p[h];N!==void 0&&x[N].wins++}return{leadToWonRate:l,avgDaysInPipeline:i,monthlyWins:x,totalWon:a,totalCompanies:n}}function G(s,n,t){const a=t.filter(i=>W.has(i.role)&&i.isActive),c=L(new Date).toISOString(),u={};for(const i of n)i.createdAt>=c&&i.createdBy&&(u[i.createdBy]=(u[i.createdBy]??0)+1);return a.map(i=>{const r=i.id??"",x=s.filter(o=>o.assignedTo===r),p=x.filter(o=>o.pipelineStage==="won"),d=x.filter(o=>o.pipelineStage!=="won"&&o.pipelineStage!=="lost");return{userId:r,fullName:i.fullName||i.username,role:i.role,totalAssigned:x.length,pipelineValue:d.reduce((o,h)=>o+(h.estimatedValue??0),0),wonCount:p.length,wonValue:p.reduce((o,h)=>o+(h.estimatedValue??0),0),activitiesThisMonth:u[r]??0}})}function Q(s){const n=new Date,t=new Date(n.getTime()-720*60*60*1e3).toISOString(),a=s.filter(r=>r.createdAt>=t),l={};for(const r of a){const x=r.type;l[x]=(l[x]??0)+1}const c=Object.keys(S),u=c.map(r=>l[r]??0),i=Math.max(1,...u);return c.map(r=>{const x=l[r]??0;return{type:r,label:S[r].label,count:x,pct:x/i*100,color:S[r].color}})}function U(s){const n=s.filter(i=>i.pipelineStage==="negotiation"),t=s.filter(i=>i.pipelineStage==="quoted"),a=n.reduce((i,r)=>i+(r.estimatedValue??0),0),l=t.reduce((i,r)=>i+(r.estimatedValue??0),0),c=B,u=a*c.negotiation+l*c.quoted;return{negotiationValue:a,quotedValue:l,weightedTotal:u,negotiationCount:n.length,quotedCount:t.length}}function H(){const[s,n]=b.useState(null),[t,a]=b.useState(!0),[l,c]=b.useState(null),u=b.useCallback(async()=>{a(!0),c(null);try{const[i,r,x]=await Promise.all([y.companies.toArray(),y.activities.toArray(),y.users.toArray()]),p=k(i),d=Y(i),o=G(i,r,x),h=Q(r),N=U(i);n({funnel:p,conversion:d,salesReps:o,activitySummary:h,forecast:N})}catch(i){console.error("[useReportingData] Failed to compute metrics:",i),c(i instanceof Error?i.message:"Failed to load reporting data.")}finally{a(!1)}},[]);return{data:s,loading:t,error:l,refresh:u}}const J={lead:"bg-surface-500",contacted:"bg-blue-500","site-assessment":"bg-purple-500",quoted:"bg-teal-500",negotiation:"bg-amber-500",won:"bg-green-500",lost:"bg-red-500"},K={lead:"text-surface-400",contacted:"text-blue-400","site-assessment":"text-purple-400",quoted:"text-teal-400",negotiation:"text-amber-400",won:"text-green-400",lost:"text-red-400"};function g({className:s}){return e.jsx("div",{className:`animate-pulse bg-surface-700/60 rounded-lg ${s??""}`})}function v(){return e.jsxs("div",{className:"glass rounded-xl p-6 space-y-4",children:[e.jsx(g,{className:"h-5 w-40"}),e.jsx(g,{className:"h-4 w-full"}),e.jsx(g,{className:"h-4 w-5/6"}),e.jsx(g,{className:"h-4 w-3/4"}),e.jsx(g,{className:"h-4 w-4/5"})]})}function Z({stages:s}){const n=s.some(t=>t.count>0);return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2 rounded-lg bg-brand-500/10",children:e.jsx(T,{className:"w-4 h-4 text-brand-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Pipeline Funnel"}),e.jsx("p",{className:"text-xs text-surface-500",children:"Companies by stage — count and estimated value"})]})]}),n?e.jsx("div",{className:"space-y-2",children:s.map((t,a)=>e.jsxs(m.div,{initial:{opacity:0,x:-16},animate:{opacity:1,x:0},transition:{delay:a*.05,duration:.35,ease:"easeOut"},className:"grid grid-cols-[7rem_1fr_auto] items-center gap-3",children:[e.jsx("span",{className:`text-xs font-medium truncate ${K[t.stage]??"text-surface-400"}`,children:t.label}),e.jsxs("div",{className:"relative h-6 bg-surface-700/50 rounded overflow-hidden",children:[e.jsx(m.div,{className:`absolute inset-y-0 left-0 rounded ${J[t.stage]??"bg-surface-500"}`,initial:{width:0},animate:{width:`${t.pct}%`},transition:{delay:a*.05+.1,duration:.5,ease:"easeOut"}}),t.count>0&&e.jsx("span",{className:"absolute inset-0 flex items-center pl-2 text-xs font-semibold text-white/90 pointer-events-none",children:t.count})]}),e.jsx("span",{className:"text-xs font-medium text-surface-300 tabular-nums whitespace-nowrap",children:t.value>0?f(t.value,!1):"—"})]},t.stage))}):e.jsx("div",{className:"flex items-center justify-center h-32 text-surface-500 text-sm",children:"No pipeline data yet. Add companies to see the funnel."})]})}function z({metrics:s}){const n=Math.max(1,...s.monthlyWins.map(t=>t.wins));return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:e.jsx(M,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Conversion Rates"}),e.jsx("p",{className:"text-xs text-surface-500",children:"Win rates and pipeline velocity"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"bg-surface-800/60 rounded-xl p-4 border border-surface-700/40",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{className:"w-3.5 h-3.5 text-green-400"}),e.jsx("span",{className:"text-xs text-surface-400",children:"Lead-to-Won Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold text-surface-100",children:[s.leadToWonRate.toFixed(1),e.jsx("span",{className:"text-sm font-normal text-surface-400 ml-0.5",children:"%"})]}),e.jsxs("div",{className:"text-xs text-surface-500 mt-1",children:[s.totalWon," won / ",s.totalCompanies," total"]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full h-1.5 bg-surface-700 rounded-full overflow-hidden",children:e.jsx(m.div,{className:"h-full bg-green-500 rounded-full",initial:{width:0},animate:{width:`${Math.min(100,s.leadToWonRate)}%`},transition:{duration:.7,ease:"easeOut"}})})})]}),e.jsxs("div",{className:"bg-surface-800/60 rounded-xl p-4 border border-surface-700/40",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(O,{className:"w-3.5 h-3.5 text-blue-400"}),e.jsx("span",{className:"text-xs text-surface-400",children:"Avg Days to Win"})]}),e.jsxs("div",{className:"text-2xl font-bold text-surface-100",children:[s.avgDaysInPipeline>0?s.avgDaysInPipeline:"—",s.avgDaysInPipeline>0&&e.jsx("span",{className:"text-sm font-normal text-surface-400 ml-0.5",children:"d"})]}),e.jsx("div",{className:"text-xs text-surface-500 mt-1",children:s.avgDaysInPipeline>0?"From lead creation to closed-won":"No won deals with tracked dates"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-surface-400 mb-3",children:"Monthly Win Trend — Last 6 Months"}),e.jsx("div",{className:"flex items-end gap-2 h-20",children:s.monthlyWins.map((t,a)=>{const l=n>0?t.wins/n*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"relative w-full flex items-end justify-center h-14",children:e.jsx(m.div,{className:"w-full rounded-t bg-brand-500/70 hover:bg-brand-500 transition-colors duration-200",style:{minHeight:t.wins>0?4:2},initial:{height:0},animate:{height:`${l}%`},transition:{delay:a*.07,duration:.45,ease:"easeOut"},title:`${t.month} ${t.year}: ${t.wins} won`})}),e.jsx("span",{className:"text-2xs text-surface-500",children:t.month}),t.wins>0&&e.jsx("span",{className:"text-2xs font-semibold text-brand-400",children:t.wins})]},`${t.year}-${t.month}`)})})]})]})}function X({rows:s}){const n={sales_rep:"Sales Rep",key_account:"Key Account"};if(s.length===0)return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(A,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Sales Rep Performance"}),e.jsx("p",{className:"text-xs text-surface-500",children:"No active sales reps found"})]})]}),e.jsx("div",{className:"flex items-center justify-center h-20 text-surface-500 text-sm",children:"No users with role 'sales_rep' or 'key_account' found."})]});const t=[...s].sort((a,l)=>l.pipelineValue-a.pipelineValue);return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(A,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Sales Rep Performance"}),e.jsx("p",{className:"text-xs text-surface-500",children:"Pipeline, wins, and activity by team member"})]})]}),e.jsx("div",{className:"overflow-x-auto -mx-2",children:e.jsxs("table",{className:"w-full text-sm min-w-[600px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-surface-700/40",children:[e.jsx("th",{className:"text-left text-xs font-medium text-surface-400 px-2 py-2",children:"Rep"}),e.jsx("th",{className:"text-right text-xs font-medium text-surface-400 px-2 py-2",children:"Assigned"}),e.jsx("th",{className:"text-right text-xs font-medium text-surface-400 px-2 py-2",children:"Pipeline Value"}),e.jsx("th",{className:"text-right text-xs font-medium text-surface-400 px-2 py-2",children:"Won"}),e.jsx("th",{className:"text-right text-xs font-medium text-surface-400 px-2 py-2",children:"Won Value"}),e.jsx("th",{className:"text-right text-xs font-medium text-surface-400 px-2 py-2",children:"Activities (30d)"})]})}),e.jsx("tbody",{children:t.map((a,l)=>e.jsxs(m.tr,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:l*.04,duration:.3},className:"border-b border-surface-700/20 hover:bg-surface-700/20 transition-colors",children:[e.jsx("td",{className:"px-2 py-3",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-brand-600/30 border border-brand-500/30 flex items-center justify-center text-xs font-semibold text-brand-300",children:a.fullName.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-surface-100",children:a.fullName}),e.jsx("div",{className:"text-xs text-surface-500",children:n[a.role]??a.role})]})]})}),e.jsx("td",{className:"px-2 py-3 text-right",children:e.jsx("span",{className:"text-sm font-medium text-surface-200",children:a.totalAssigned})}),e.jsx("td",{className:"px-2 py-3 text-right",children:e.jsx("span",{className:"text-sm font-medium text-teal-300",children:a.pipelineValue>0?f(a.pipelineValue,!1):"—"})}),e.jsx("td",{className:"px-2 py-3 text-right",children:e.jsx("span",{className:`inline-flex items-center justify-center min-w-[1.5rem] h-5 rounded text-xs font-semibold px-1.5 ${a.wonCount>0?"bg-green-500/15 text-green-400 border border-green-500/25":"text-surface-500"}`,children:a.wonCount})}),e.jsx("td",{className:"px-2 py-3 text-right",children:e.jsx("span",{className:"text-sm font-medium text-green-300",children:a.wonValue>0?f(a.wonValue,!1):"—"})}),e.jsx("td",{className:"px-2 py-3 text-right",children:e.jsx("span",{className:`inline-flex items-center justify-center min-w-[1.5rem] h-5 rounded text-xs font-semibold px-1.5 ${a.activitiesThisMonth>0?"bg-brand-500/15 text-brand-400 border border-brand-500/25":"text-surface-500"}`,children:a.activitiesThisMonth})})]},a.userId))})]})})]})}function ee({items:s}){const n=s.some(t=>t.count>0);return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:e.jsx($,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Activity Summary"}),e.jsx("p",{className:"text-xs text-surface-500",children:"All interaction types — last 30 days"})]})]}),n?e.jsx("div",{className:"space-y-2.5",children:s.filter(t=>t.count>0).sort((t,a)=>a.count-t.count).map((t,a)=>e.jsxs(m.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},transition:{delay:a*.05,duration:.3},className:"grid grid-cols-[8rem_1fr_2rem] items-center gap-3",children:[e.jsx("span",{className:"text-xs font-medium text-surface-300 truncate",children:t.label}),e.jsx("div",{className:"relative h-5 bg-surface-700/50 rounded overflow-hidden",children:e.jsx(m.div,{className:`absolute inset-y-0 left-0 rounded ${t.color}`,initial:{width:0},animate:{width:`${t.pct}%`},transition:{delay:a*.05+.1,duration:.5,ease:"easeOut"},style:{opacity:.8}})}),e.jsx("span",{className:"text-xs font-semibold text-surface-200 text-right tabular-nums",children:t.count})]},t.type))}):e.jsx("div",{className:"flex items-center justify-center h-28 text-surface-500 text-sm",children:"No activities logged in the last 30 days."})]})}function se({forecast:s}){const n=s.negotiationCount>0||s.quotedCount>0;return e.jsxs("div",{className:"glass rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:e.jsx(E,{className:"w-4 h-4 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-surface-100",children:"Revenue Forecast"}),e.jsx("p",{className:"text-xs text-surface-500",children:"Probability-weighted pipeline value"})]})]}),n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Weighted Forecast Total"}),e.jsx("div",{className:"text-3xl font-bold text-amber-300",children:f(s.weightedTotal,!1)}),e.jsx("div",{className:"text-xs text-surface-500 mt-1",children:"Based on stage probability weights"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-surface-800/60 rounded-xl p-4 border border-amber-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-amber-400",children:"Negotiation"}),e.jsx("span",{className:"text-xs text-surface-500 bg-amber-500/10 px-2 py-0.5 rounded-full",children:"60% prob."})]}),e.jsx("div",{className:"text-lg font-bold text-surface-100",children:f(s.negotiationValue,!1)}),e.jsxs("div",{className:"text-xs text-surface-500 mt-0.5",children:[s.negotiationCount," ",s.negotiationCount===1?"company":"companies"]}),e.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-xs text-amber-300",children:[e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{children:f(s.negotiationValue*.6,!1)})]})]}),e.jsxs("div",{className:"bg-surface-800/60 rounded-xl p-4 border border-teal-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-teal-400",children:"Quoted"}),e.jsx("span",{className:"text-xs text-surface-500 bg-teal-500/10 px-2 py-0.5 rounded-full",children:"40% prob."})]}),e.jsx("div",{className:"text-lg font-bold text-surface-100",children:f(s.quotedValue,!1)}),e.jsxs("div",{className:"text-xs text-surface-500 mt-0.5",children:[s.quotedCount," ",s.quotedCount===1?"company":"companies"]}),e.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-xs text-teal-300",children:[e.jsx(C,{className:"w-3 h-3"}),e.jsx("span",{children:f(s.quotedValue*.4,!1)})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-2xs text-surface-500 mb-1",children:[e.jsx("span",{children:"Negotiation weight"}),e.jsx("span",{children:"Quoted weight"})]}),e.jsx("div",{className:"flex h-2 rounded-full overflow-hidden",children:s.negotiationValue+s.quotedValue>0&&e.jsxs(e.Fragment,{children:[e.jsx(m.div,{className:"bg-amber-500",initial:{flex:0},animate:{flex:s.negotiationValue*.6},transition:{duration:.6,ease:"easeOut"}}),e.jsx(m.div,{className:"bg-teal-500",initial:{flex:0},animate:{flex:s.quotedValue*.4},transition:{duration:.6,ease:"easeOut"}})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-28 text-surface-500 text-sm",children:"No companies in Quoted or Negotiation stage."})]})}function te({message:s,onRetry:n}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-800 to-surface-900 flex items-center justify-center p-8",children:e.jsxs("div",{className:"glass rounded-xl p-8 max-w-md w-full text-center space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-red-500/10 border border-red-500/20",children:e.jsx(_,{className:"w-6 h-6 text-red-400"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-base font-semibold text-red-400 mb-1",children:"Failed to load reports"}),e.jsx("p",{className:"text-sm text-surface-400",children:s})]}),e.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-brand-600 hover:bg-brand-500 text-white text-sm font-medium transition-colors duration-200",children:[e.jsx(D,{className:"w-3.5 h-3.5"}),"Retry"]})]})})}function he(){const{data:s,loading:n,error:t,refresh:a}=H();return b.useEffect(()=>{a()},[]),t?e.jsx(te,{message:t,onRetry:a}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-800 to-surface-900",children:e.jsxs(m.div,{className:"max-w-7xl mx-auto p-4 space-y-4",variants:V,initial:"hidden",animate:"visible",children:[e.jsx(m.div,{variants:j,children:e.jsx(F,{})}),e.jsxs(m.div,{variants:j,className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold text-surface-100 flex items-center gap-2.5",children:[e.jsx(T,{className:"w-5 h-5 text-brand-400"}),"Reporting & Analytics"]}),e.jsx("p",{className:"text-sm text-surface-400 mt-0.5",children:"Pipeline performance, conversion rates, and revenue forecasting"})]}),e.jsxs("button",{onClick:a,disabled:n,className:"inline-flex items-center gap-2 px-3 py-2 text-sm text-surface-300 hover:text-surface-100 bg-surface-800/50 hover:bg-surface-700/50 border border-surface-700/40 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(D,{className:`w-3.5 h-3.5 ${n?"animate-spin":""}`}),n?"Refreshing...":"Refresh"]})]}),e.jsx(m.div,{variants:j,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n||!s?e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(v,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{stages:s.funnel}),e.jsx(z,{metrics:s.conversion})]})}),e.jsx(m.div,{variants:j,children:n||!s?e.jsxs("div",{className:"glass rounded-xl p-6 space-y-4",children:[e.jsx(g,{className:"h-5 w-56"}),e.jsx("div",{className:"space-y-2",children:Array.from({length:4}).map((l,c)=>e.jsx(g,{className:"h-10 w-full"},c))})]}):e.jsx(X,{rows:s.salesReps})}),e.jsx(m.div,{variants:j,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n||!s?e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(v,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{items:s.activitySummary}),e.jsx(se,{forecast:s.forecast})]})})]})})}export{he as default};
