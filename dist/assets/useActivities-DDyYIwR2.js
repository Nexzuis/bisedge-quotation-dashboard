import{c as l,ar as p,ao as k,F as x,ap as m,x as v,ax as f}from"./index-BQ8GchdQ.js";import{T as h}from"./trophy-C3NEYXtY.js";import{r}from"./vendor-react-CUuYCEpB.js";const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],S=l("circle-dot",w);const A=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Q=l("user-plus",A),n=[{key:"lead",label:"Lead",color:"text-surface-400",bgColor:"bg-surface-500/20",borderColor:"border-surface-500",icon:S},{key:"contacted",label:"Contacted",color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500",icon:p},{key:"site-assessment",label:"Site Assessment",color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500",icon:k},{key:"quoted",label:"Quoted",color:"text-teal-400",bgColor:"bg-teal-500/20",borderColor:"border-teal-500",icon:x},{key:"negotiation",label:"Negotiation",color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500",icon:m},{key:"won",label:"Won",color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500",icon:h},{key:"lost",label:"Lost",color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500",icon:v}],q=new Map(n.map(e=>[e.key,e]));function _(e){return q.get(e)||n[0]}function E(){const e=f(),s=r.useCallback(async(t,o)=>{try{return await e.getByCompany(t,o)}catch(a){return console.error("Failed to get activities:",a),[]}},[e]),i=r.useCallback(async(t=15)=>{try{return await e.getRecent(t)}catch(o){return console.error("Failed to get recent activities:",o),[]}},[e]),u=r.useCallback(async t=>{try{return await e.getByQuote(t)}catch(o){return console.error("Failed to get quote activities:",o),[]}},[e]),y=r.useCallback(async t=>await e.save(t),[e]),b=r.useCallback(async(t,o,a,c)=>await e.save({companyId:t,contactId:"",quoteId:"",type:"stage-change",title:`Stage changed: ${o} â†’ ${a}`,description:"",dueDate:"",createdBy:c}),[e]),d=r.useCallback(async(t,o,a,c)=>await e.save({companyId:t,contactId:"",quoteId:o,type:"quote-created",title:`Quote ${a} created`,description:"",dueDate:"",createdBy:c}),[e]),g=r.useCallback(async(t,o,a,c)=>await e.save({companyId:t,contactId:"",quoteId:o,type:"quote-sent",title:`Quote ${a} sent to customer`,description:"",dueDate:"",createdBy:c}),[e]),C=r.useCallback(async t=>{await e.delete(t)},[e]);return{getByCompany:s,getRecent:i,getByQuote:u,saveActivity:y,logStageChange:b,logQuoteCreated:d,logQuoteSent:g,deleteActivity:C}}export{n as P,Q as U,_ as g,E as u};
