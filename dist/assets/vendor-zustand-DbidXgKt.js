import{R as F}from"./vendor-react-CUuYCEpB.js";const te=e=>{let t;const r=new Set,n=(f,p)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const ze=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(ve=>ve(t,ze))}},i=()=>t,c={setState:n,getState:i,getInitialState:()=>l,subscribe:f=>(r.add(f),()=>r.delete(f))},l=t=e(n,i,c);return c},we=(e=>e?te(e):te),Ce=e=>e;function Fe(e,t=Ce){const r=F.useSyncExternalStore(e.subscribe,F.useCallback(()=>t(e.getState()),[e,t]),F.useCallback(()=>t(e.getInitialState()),[e,t]));return F.useDebugValue(r),r}const re=e=>{const t=we(e),r=n=>Fe(t,n);return Object.assign(r,t),r},We=(e=>e?re(e):re);var _e=Symbol.for("immer-nothing"),ne=Symbol.for("immer-draftable"),a=Symbol.for("immer-state");function _(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var u=Object,m=u.getPrototypeOf,O="constructor",T="prototype",G="configurable",A="enumerable",k="writable",z="value",y=e=>!!e&&!!e[a];function h(e){return e?de(e)||x(e)||!!e[ne]||!!e[O]?.[ne]||U(e)||L(e):!1}var Ie=u[T][O].toString(),ie=new WeakMap;function de(e){if(!e||!Z(e))return!1;const t=m(e);if(t===null||t===u[T])return!0;const r=u.hasOwnProperty.call(t,O)&&t[O];if(r===Object)return!0;if(!P(r))return!1;let n=ie.get(r);return n===void 0&&(n=Function.toString.call(r),ie.set(r,n)),n===Ie}function N(e,t,r=!0){C(e)===0?(r?Reflect.ownKeys(e):u.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function C(e){const t=e[a];return t?t.type_:x(e)?1:U(e)?2:L(e)?3:0}var oe=(e,t,r=C(e))=>r===2?e.has(t):u[T].hasOwnProperty.call(e,t),Y=(e,t,r=C(e))=>r===2?e.get(t):e[t],R=(e,t,r,n=C(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function ke(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var x=Array.isArray,U=e=>e instanceof Map,L=e=>e instanceof Set,Z=e=>typeof e=="object",P=e=>typeof e=="function",W=e=>typeof e=="boolean";function Me(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var d=e=>e.copy_||e.base_,j=e=>e.modified_?e.copy_:e.base_;function H(e,t){if(U(e))return new Map(e);if(L(e))return new Set(e);if(x(e))return Array[T].slice.call(e);const r=de(e);if(t===!0||t==="class_only"&&!r){const n=u.getOwnPropertyDescriptors(e);delete n[a];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const s=i[o],c=n[s];c[k]===!1&&(c[k]=!0,c[G]=!0),(c.get||c.set)&&(n[s]={[G]:!0,[k]:!0,[A]:c[A],[z]:e[s]})}return u.create(m(e),n)}else{const n=m(e);if(n!==null&&r)return{...e};const i=u.create(n);return u.assign(i,e)}}function ee(e,t=!1){return V(e)||y(e)||!h(e)||(C(e)>1&&u.defineProperties(e,{set:I,add:I,clear:I,delete:I}),u.freeze(e),t&&N(e,(r,n)=>{ee(n,!0)},!1)),e}function Oe(){_(2)}var I={[z]:Oe};function V(e){return e===null||!Z(e)?!0:u.isFrozen(e)}var D="MapSet",X="Patches",se="ArrayMethods",he={};function S(e){const t=he[e];return t||_(0,e),t}var ce=e=>!!he[e],v,ye=()=>v,Ae=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ce(D)?S(D):void 0,arrayMethodsPlugin_:ce(se)?S(se):void 0});function fe(e,t){t&&(e.patchPlugin_=S(X),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $(e){q(e),e.drafts_.forEach(Re),e.drafts_=null}function q(e){e===v&&(v=e.parent_)}var ae=e=>v=Ae(v,e);function Re(e){const t=e[a];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ue(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[a].modified_&&($(t),_(4)),h(e)&&(e=le(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[a].base_,e,t)}else e=le(t,r);return De(t,e,!0),$(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_e?e:void 0}function le(e,t){if(V(t))return t;const r=t[a];if(!r)return E(t,e.handledSet_,e);if(!B(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Pe(r,e)}return r.copy_}function De(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ee(t,r)}function pe(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var B=(e,t)=>e.scope_===t,Ee=[];function Se(e,t,r,n){const i=d(e),o=e.type_;if(n!==void 0&&Y(i,n,o)===t){R(i,n,r,o);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;N(i,(l,f)=>{if(y(f)){const p=c.get(f)||[];p.push(l),c.set(f,p)}})}const s=e.draftLocations_.get(t)??Ee;for(const c of s)R(i,c,r,o)}function be(e,t,r){e.callbacks_.push(function(i){const o=t;if(!o||!B(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const s=j(o);Se(e,o.draft_??o,s,r),Pe(o,i)})}function Pe(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}pe(e)}}function Te(e,t,r){const{scope_:n}=e;if(y(r)){const i=r[a];B(i,n)&&i.callbacks_.push(function(){M(e);const s=j(i);Se(e,r,s,t)})}else h(r)&&e.callbacks_.push(function(){const o=d(e);e.type_===3?o.has(r)&&E(r,n.handledSet_,n):Y(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&E(Y(e.copy_,t,e.type_),n.handledSet_,n)})}function E(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||y(e)||t.has(e)||!h(e)||V(e)||(t.add(e),N(e,(n,i)=>{if(y(i)){const o=i[a];if(B(o,r)){const s=j(o);R(e,n,s,e.type_),pe(o)}}else h(i)&&E(i,t,r)})),e}function Ne(e,t){const r=x(e),n={type_:r?1:0,scope_:t?t.scope_:ye(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,o=b;r&&(i=[n],o=w);const{revoke:s,proxy:c}=Proxy.revocable(i,o);return n.draft_=c,n.revoke_=s,[c,n]}var b={get(e,t){if(t===a)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=d(e);if(!oe(i,t,e.type_))return xe(e,i,t);const o=i[t];if(e.finalized_||!h(o)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Me(t))return o;if(o===K(e.base_,t)){M(e);const s=e.type_===1?+t:t,c=Q(e.scope_,o,e,s);return e.copy_[s]=c}return o},has(e,t){return t in d(e)},ownKeys(e){return Reflect.ownKeys(d(e))},set(e,t,r){const n=me(d(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=K(d(e),t),o=i?.[a];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ke(r,i)&&(r!==void 0||oe(e.base_,t,e.type_)))return!0;M(e),J(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Te(e,t,r)),!0},deleteProperty(e,t){return M(e),K(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),J(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=d(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[k]:!0,[G]:e.type_!==1||t!=="length",[A]:n[A],[z]:r[t]}},defineProperty(){_(11)},getPrototypeOf(e){return m(e.base_)},setPrototypeOf(){_(12)}},w={};for(let e in b){let t=b[e];w[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}w.deleteProperty=function(e,t){return w.set.call(this,e,t,void 0)};w.set=function(e,t,r){return b.set.call(this,e[0],t,r,e[0])};function K(e,t){const r=e[a];return(r?d(r):e)[t]}function xe(e,t,r){const n=me(t,r);return n?z in n?n[z]:n.get?.call(e.draft_):void 0}function me(e,t){if(!(t in e))return;let r=m(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=m(r)}}function J(e){e.modified_||(e.modified_=!0,e.parent_&&J(e.parent_))}function M(e){e.copy_||(e.assigned_=new Map,e.copy_=H(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(P(t)&&!P(r)){const o=r;r=t;const s=this;return function(l=o,...f){return s.produce(l,p=>r.call(this,p,...f))}}P(r)||_(6),n!==void 0&&!P(n)&&_(7);let i;if(h(t)){const o=ae(this),s=Q(o,t,void 0);let c=!0;try{i=r(s),c=!1}finally{c?$(o):q(o)}return fe(o,n),ue(i,o)}else if(!t||!Z(t)){if(i=r(t),i===void 0&&(i=t),i===_e&&(i=void 0),this.autoFreeze_&&ee(i,!0),n){const o=[],s=[];S(X).generateReplacementPatches_(t,i,{patches_:o,inversePatches_:s}),n(o,s)}return i}else _(1,t)},this.produceWithPatches=(t,r)=>{if(P(t))return(s,...c)=>this.produceWithPatches(s,l=>t(l,...c));let n,i;return[this.produce(t,r,(s,c)=>{n=s,i=c}),n,i]},W(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),W(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),W(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){h(e)||_(8),y(e)&&(e=Le(e));const t=ae(this),r=Q(t,e,void 0);return r[a].isManual_=!0,q(t),r}finishDraft(e,t){const r=e&&e[a];(!r||!r.isManual_)&&_(9);const{scope_:n}=r;return fe(n,t),ue(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=S(X).applyPatches_;return y(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Q(e,t,r,n){const[i,o]=U(t)?S(D).proxyMap_(t,r):L(t)?S(D).proxySet_(t,r):Ne(t,r);return(r?.scope_??ye()).drafts_.push(i),o.callbacks_=r?.callbacks_??[],o.key_=n,r&&n!==void 0?be(r,o,n):o.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:f}=l;o.modified_&&f&&f.generatePatches_(o,[],l)}),i}function Le(e){return y(e)||_(10,e),ge(e)}function ge(e){if(!h(e)||V(e))return e;const t=e[a];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=H(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=H(e,!0);return N(r,(i,o)=>{R(r,i,ge(o))},n),t&&(t.finalized_=!1),r}var Ve=new Ue,Ke=Ve.produce;export{We as c,Ke as p};
